path: home
title: Дім
icon: mdi:home-assistant
cards:
  ########## Stack 1 ######################################################################
  - type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: entities
            show_header_toggle: false
            entities:
              - sensor.skochko
          - type: entities
            show_header_toggle: false
            entities:
              - sensor.viktoriia
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            entity: 'sensor.pixel_5_battery_level'
            icon: 'mdi:cellphone'
            name: Pixel 5
            styles:
              card:
                - background-color: 'transparent'
                - border-radius: 0%
                - padding: 5px
                - font-size: 12px
                - text-shadow: 0px 0px 5px black
                - height: 120px
              grid:
                - grid-template-areas: '"i temp" "n n" "location location"  "wifi wifi" "battery_status battery_status"'
                - grid-template-columns: 1fr 1fr
                - grid-template-rows: 1fr min-content min-content min-content min-content
              name:
                - font-weight: bold
                - font-size: 13px
                - color: white
                - align-self: middle
                - justify-self: start
                - padding-bottom: 4px
              img_cell:
                - justify-content: start
                - align-items: start
                - margin: none
                - display: none
              icon:
                - color: >
                    [[[
                      if (entity.state < 60) return 'red';
                      if (entity.state >= 60 && entity.state < 80) return 'orange';
                      else return 'lime';
                    ]]]
                - width: 70%
                - margin-top: -10%
              custom_fields:
                temp:
                  - align-self: start
                  - justify-self: end
                location:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                wifi:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                battery_status:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
            custom_fields:
              temp: >
                [[[
                  return `<ha-icon
                    icon="mdi:battery"
                    style="width: 12px; height: 12px; color: yellow;">
                    </ha-icon><span>${entity.state}%</span>`
                ]]]
              location: >
                [[[
                  return `<ha-icon
                    icon="mdi:google-maps"
                    style="width: 20px; height: 30px; color: white;">
                    </ha-icon><span> <span style="color: var(--text-color-sensor);">${states['sensor.pixel_5_geocoded_location'].attributes[ 'Thoroughfare' ]} ${states['sensor.pixel_5_geocoded_location'].attributes[ 'Sub Thoroughfare' ]}, ${states['sensor.pixel_5_geocoded_location'].attributes[ 'Locality' ]}</span></span>`
                ]]]
              wifi: >
                [[[
                return `<ha-icon
                icon="mdi:wifi"
                style="width: 20px; height: 30px; color: white;">
                </ha-icon><span>  WIFI: <span style="color: var(--text-color-sensor);">${states['sensor.pixel_5_wifi_connection'].state}</span></span>`
                ]]]
              battery_status: >
                [[[
                return `<ha-icon
                icon="mdi:power-plug"
                style="width: 20px; height: 30px; color: white;">
                </ha-icon><span>Зарядка:
                <span> ${states['sensor.pixel_5_battery_state'].state}</span></span>`
                ]]]
          - type: 'custom:button-card'
            entity: 'sensor.oneplus_a6000_battery_level'
            icon: 'mdi:cellphone'
            name: OnePlus 6
            styles:
              card:
                - background-color: 'transparent'
                - border-radius: 0%
                - padding: 5px
                - font-size: 12px
                - text-shadow: 0px 0px 5px black
                - height: 120px
              grid:
                - grid-template-areas: '"i temp" "n n" "location location"  "wifi wifi" "battery_status battery_status"'
                - grid-template-columns: 1fr 1fr
                - grid-template-rows: 1fr min-content min-content min-content min-content
              name:
                - font-weight: bold
                - font-size: 13px
                - color: white
                - align-self: middle
                - justify-self: start
                - padding-bottom: 4px
              img_cell:
                - justify-content: start
                - align-items: start
                - margin: none
                - display: none
              icon:
                - color: >
                    [[[
                      if (entity.state < 60) return 'red';
                      if (entity.state >= 60 && entity.state < 80) return 'orange';
                      else return 'lime';
                    ]]]
                - width: 70%
                - margin-top: -10%
              custom_fields:
                temp:
                  - align-self: start
                  - justify-self: end
                location:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                wifi:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                battery_status:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
            custom_fields:
              temp: >
                [[[
                  return `<ha-icon
                    icon="mdi:battery"
                    style="width: 12px; height: 12px; color: yellow;">
                    </ha-icon><span>${entity.state}%</span>`
                ]]]
              location: >
                [[[
                  return `<ha-icon
                    icon="mdi:google-maps"
                    style="width: 20px; height: 30px; color: white;">
                    </ha-icon><span> <span style="color: var(--text-color-sensor);">${states['sensor.oneplus_a6000_geocoded_location'].attributes[ 'Thoroughfare' ]} ${states['sensor.oneplus_a6000_geocoded_location'].attributes[ 'Sub Thoroughfare' ]}, ${states['sensor.oneplus_a6000_geocoded_location'].attributes[ 'Locality' ]}</span></span>`
                ]]]
              wifi: >
                [[[
                return `<ha-icon
                icon="mdi:wifi"
                style="width: 20px; height: 30px; color: white;">
                </ha-icon><span>  WIFI: <span style="color: var(--text-color-sensor);">${states['sensor.oneplus_a6000_wifi_connection'].state}</span></span>`
                ]]]
              battery_status: >
                [[[
                return `<ha-icon
                icon="mdi:power-plug"
                style="width: 20px; height: 30px; color: white;">
                </ha-icon><span>Зарядка:
                <span> ${states['sensor.oneplus_a6000_battery_state'].state}</span></span>`
                ]]]
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            entity: zone.lviv
            icon: mdi:home-lightbulb-outline
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.turn_off_all
            name: Вимкнути все
            styles:
              card:
                - height: 90px
                - border-radius: 5%
                - border: 1px solid #f5f5f5
                - background: transparent
              icon:
                - color: rgb(255, 255, 255)
                - opacity: .8
              name:
                - color: rgb(255, 255, 255)
                - font-size: 14px
          - type: 'custom:button-card'
            entity: zone.lviv
            icon: mdi:shield-account-outline
            color: auto
            color_type: card
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.prepare_home
            name: Йдем додому
            styles:
              card:
                - height: 90px
                - border-radius: 5%
                - border: 1px solid #f5f5f5
                - background: transparent
              icon:
                - color: rgb(255, 255, 255)
                - opacity: .8
              name:
                - color: rgb(255, 255, 255)
                - font-size: 14px
          - type: 'custom:button-card'
            entity: zone.lviv
            icon: mdi:shield-key-outline
            color: auto
            color_type: card
            tap_action:
              action: call-service
              service: light.toggle
            name: Пішли з дому
            styles:
              card:
                - height: 90px
                - border-radius: 5%
                - border: 1px solid #f5f5f5
                - background: transparent
              icon:
                - color: rgb(255, 255, 255)
                - opacity: .8
              name:
                - color: rgb(255, 255, 255)
                - font-size: 14px
      - type: custom:mini-media-player
        name: Колонки на кухні
        artwork: cover
        entity: media_player.kitchen
        icon: mdi:speaker-wireless
      - type: custom:mini-media-player
        name: Телевізор
        artwork: cover
        entity: media_player.tv
        icon: mdi:speaker-wireless
      - type: custom:mini-media-player
        name: Soundbar
        artwork: cover
        entity: media_player.soundbar
        icon: mdi:speaker-wireless
      - type: custom:mini-media-player
        name: Google Nest
        artwork: cover
        entity: media_player.room
        icon: mdi:speaker-wireless
      - type: custom:mini-media-player
        name: PLEX
        artwork: cover
        entity: media_player.plex_plex_for_android_tv_tpm171e
        icon: mdi:speaker-wireless
      - type: picture-glance
        entities: [ ]
        title: Вхідні двері
        camera_image: camera.generic_camera
  ########## Stack 2 ######################################################################
  # Show the lights in house
  - type: vertical-stack
    cards:
      - type: 'custom:button-card'
        entity: zone.lviv
        color: auto
        color_type: icon
        tap_action:
          action: call-service
          service: light.toggle
          service_data:
            entity_id: light.yeelight_master_lamp
            transition: 1
        name: 'Кімната'
        styles:
          card:
            - font-size: 15px;
            - height: 30px;
            - margin-top: 10px;
            - padding: 5px 0px;
            - font-weight: bold;
      ####################
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            entity: light.yeelight_master_lamp
            label: >
              [[[
                var bri = states['light.yeelight_master_lamp'].attributes.brightness;
                return (bri ? 'Яскравість: ' + bri  + '%' : 'Вимкнено');
              ]]]
            show_label: true
            icon: mdi:wall-sconce
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:lightbulb-on-outline
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.yeelight_master_lamp
                transition: 1
            hold_action:
              action: more-info
            name: Лампа Васі
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: light.yeelight_viktoriia_lamp
            label: >
              [[[
                var bri = states['light.yeelight_viktoriia_lamp'].attributes.brightness;
                return (bri ? 'Яскравість: ' + bri  + '%' : 'Вимкнено');
              ]]]
            show_label: true
            icon: mdi:wall-sconce
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:lightbulb-on-outline
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.yeelight_viktoriia_lamp
                transition: 1
            hold_action:
              action: more-info
            name: Лампа Віки
            styles:
              card:
                - font-size: 12px
                - height: 80px
      - type: horizontal-stack
        cards:
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_right_158d0001dc2c2e
            icon: mdi:spotlight-beam
            color: auto
            color_type: card
            state:
              - value: 'on'
                color: rgb(255, 143, 0)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_right_158d0001dc2c2e
            name: Споти
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_right_158d0001dc2c2e
            icon: mdi:led-variant-outline
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:led-variant-on
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_right_158d0001dc2c2e
            name: Підсвітка
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: light.yeelight_moon
            label: >
              [[[
                var bri = states['light.yeelight_moon'].attributes.brightness;
                return  (bri ? 'Яскравість: ' + bri + '%' : 'Вимкнено') ;
              ]]]
            show_label: true
            icon: mdi:brightness-3
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:brightness-1
            tap_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.yeelight_moon
                transition: 1
            name: Місяць
            styles:
              card:
                - font-size: 12px
                - height: 80px
      - type: 'custom:button-card'
        entity: zone.lviv
        color: auto
        color_type: icon
        tap_action:
          action: call-service
          service: light.toggle
          service_data:
            entity_id: light.yeelight_master_lamp
            transition: 1
        name: 'Кухня'
        styles:
          card:
            - font-size: 15px;
            - height: 30px;
            - padding: 5px 0px;
            - font-weight: bold;
      - type: horizontal-stack
        cards:
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_left_158d00019f6738
            icon: mdi:spotlight-beam
            color: auto
            color_type: card
            state:
              - value: 'on'
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_left_158d00019f6738
            name: Споти
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_right_158d00019f6738
            icon: mdi:ceiling-light
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:led-variant-on
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_right_158d00019f6738
            name: Бра
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: switch.broadlink_kitchen_fan_switch
            icon: mdi:pinwheel
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:pinwheel
                styles:
                  icon:
                    - animation: spin 1s linear infinite
                    - color: rgb(255, 255, 255)
                  card:
                    - background: rgb(95,95,196)
                  name:
                    - color: rgb(255, 255, 255)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.broadlink_kitchen_fan_switch
            name: Провітрення
            extra_styles: |
              @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
            styles:
              icon:
              card:
                - font-size: 12px
                - height: 80px
      ####################
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            entity: light.yeelight_window
            label: >
              [[[
                var bri = states['light.yeelight_window'].attributes.brightness;
                return (bri ? 'Яскравість: ' + bri  + '%' : 'Вимкнено');
              ]]]
            show_label: true
            icon: mdi:lightbulb-outline
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:lightbulb-on-outline
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.yeelight_window
                transition: 1
            hold_action:
              action: more-info
            name: Вікно
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: light.yeelight_kitchen
            label: >
              [[[
                var bri = states['light.yeelight_kitchen'].attributes.brightness;
                return (bri ? 'Яскравість: ' + bri  + '%' : 'Вимкнено');
              ]]]
            show_label: true
            icon: mdi:lightbulb-outline
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:lightbulb-on-outline
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.yeelight_kitchen
                transition: 1
            name: Підсвітка
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: switch.christmas_tree_switch
            icon: mdi:pine-tree
            color: auto
            color_type: card
            state:
              - value: 'on'
                color: rgb(255, 99, 71)
                styles:
                  icon:
                    - color: rgb(46,125,50)
                  card:
                    - background: rgb(255,255,255)
                  name:
                    - color: rgb(0, 0, 0)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.christmas_tree_switch
            name: Ялинка
            styles:
              card:
                - font-size: 12px
                - height: 80px
      - type: 'custom:button-card'
        entity: zone.lviv
        color: auto
        color_type: icon
        tap_action:
          action: call-service
          service: light.toggle
          service_data:
            entity_id: light.yeelight_master_lamp
            transition: 1
        name: 'Душова'
        styles:
          card:
            - font-size: 15px;
            - height: 30px;
            - padding: 5px 0px;
            - font-weight: bold;
      - type: horizontal-stack
        cards:
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_right_158d00016c31cf
            icon: mdi:wall-sconce-flat
            color: auto
            color_type: card
            state:
              - value: 'on'
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_right_158d00016c31cf
            name: Освітлення
            styles:
              card:
                - font-size: 12px
                - height: 80px
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_left_158d00016c31cf
            icon: mdi:pinwheel
            color: auto
            color_type: card
            state:
              - value: 'on'
                icon: mdi:pinwheel
                styles:
                  icon:
                    - animation: spin 1s linear infinite
                    - color: rgb(255, 255, 255)
                  card:
                    - background: rgb(95,95,196)
                  name:
                    - color: rgb(255, 255, 255)
                  label:
                    - opaciti: .7
                    - color: rgb(255, 255, 255)
            label: 'Автовимкнення через: 30 хв'
            show_label: true
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_left_158d00016c31cf
            name: Провітрення
            extra_styles: |
              @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
            styles:
              card:
                - font-size: 14px
                - height: 80px
                - padding: 5px
              name:
                - font-size: 14px
                - padding-bottom: 3px
              label:
                - color: transparent
                - font-size: 12px
      - type: 'custom:button-card'
        entity: zone.lviv
        color: auto
        color_type: icon
        tap_action:
          action: call-service
          service: light.toggle
          service_data:
            entity_id: light.yeelight_master_lamp
            transition: 1
        name: 'Коридор'
        styles:
          card:
            - font-size: 15px;
            - height: 30px;
            - padding: 5px 0px;
            - font-weight: bold;
      - type: horizontal-stack
        cards:
          ####################
          - type: 'custom:button-card'
            entity: switch.wall_switch_right_158d0001f4852b
            icon: mdi:wall-sconce-flat
            color: auto
            color_type: card
            state:
              - value: 'on'
                color: rgb(255, 99, 71)
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.wall_switch_right_158d0001f4852b
            name: Освітлення
            styles:
              card:
                - font-size: 12px
                - height: 80px
          - type: 'custom:button-card'
            entity: binary_sensor.motion_sensor_158d0002b4745b
            icon: mdi:run
            color: auto
            color_type: card
            tap_action:
              action: more-info
            label: >
            #              [[[
            #                var time = states['variable.last_motion'].state;
            #                return time;
            #              ]]]
            show_label: true
            name: 'Останній рух зафіксовано:'
            styles:
              card:
                - font-size: 12px
                - height: 80px
                - padding: 5px
              name:
                - font-size: 13px
                - padding-bottom: 5px
              label:
                - font-size: 12px
                - opacity: .8
            state:
              - value: 'on'
                name: Виявлено рух!
                icon: mdi:run-fast
                styles:
                  icon:
                    - color: rgb(255, 255, 255)
                  card:
                    - background: rgb(211, 47, 47)
                  name:
                    - color: rgb(255, 255, 255)
                    - font-size: 14px
                    - padding-bottom: 5px
                  label:
                    - color: rgb(255, 255, 255)
  ########## Stack 3 ######################################################################
  - type: vertical-stack
    cards:
      - type: custom:mini-graph-card
        name: Температура в квартирі
        entities:
          #          - entity: sensor.ble_temperature_livingroom
          - entity: sensor.temperature_158d0002437932
          - entity: sensor.beok_temperature
          - entity: sensor.ble_temperature_e72e00d074d4
        line_color: var(--accent-color)
        line_width: 2
        hours_to_show: 24
        color_thresholds:
          - value: 20
            color: "#2196f3"
          - value: 23
            color: "#2e7d32"
          - value: 24
            color: "#c62828"
      - type: 'custom:vacuum-card'
        entity: vacuum.xiaomi_vacuum
        show_name: false
        stats:
          default:
            - attribute: filter_left_time
              unit: hours
              subtitle: Фільтр
            - attribute: main_brush_time_left
              unit: hours
              subtitle: Основна щітка
            - attribute: side_brush_time_left
              unit: hours
              subtitle: Бокова щітка
            - attribute: cleaning_time
              unit: minutes
              subtitle: Тривалість
          cleaning:
            - attribute: cleaned_area
              unit: m2
              subtitle: Cleaning area
            - attribute: cleaning_time
              unit: minutes
              subtitle: Cleaning time
        actions:
          - name: Прибрати кухню
            service: script.clean_living_room
            icon: 'mdi:sofa'
          - name: Прибрати душову
            service: script.clean_bedroom
            icon: 'mdi:shower-head'
          - name: Прибрати кімнату
            service: script.clean_kitchen
            icon: 'mdi:silverware-fork-knife'
      - type: "custom:jukebox-card"
        links:
          - url: http://212.26.146.50:8000/sraka.mp3
            name: Радіо Срака 😆
          - url: http://ua.uar.net:8000/vgolos
            name: Вголос 🙀
          - url: http://94.23.40.70:8010/
            name: Metal Radio 👿
          - url: http://icepe5.infomaniak.ch/jazzblues-high.mp3
            name: Jazz Radio Blues
          - url: http://stream.radioskovoroda.com:8060/skovoroda_music
            name: Радіо Сковорода
          - url: http://listen.shoutcast.com/Classic-RockFlorida
            name: Classic-Rock Florida
          - url: http://stream-uk1.radioparadise.com/aac-320
            name: Paradise
          - url: http://0n-rock.radionetz.de/0n-rock.mp3
            name: ON Rock
          - url: http://bigrradio.cdnstream1.com/5186_128
            name: 80s Metal FM
          - url: http://pldm.ml/radio.php?id=-1&url=http://www.eskago.pl/radio/eska-krakow
            name: eskaGO.pl - Kraków
          - url: http://radio.ukr.radio:8000/ur1-lv-mp3-m
            name: LV
          - url: http://stream.mjoy.ua:8000/rzk-aac
            name: Mjoy
          - url: http://radio.nrcu.gov.ua:8000/ur2-mp3
            name: Промінь
          - url: http://bigrradio.cdnstream1.com/5104_128
            name: 2000 FM - Hard Rock
          - url: http://streaming.radionomy.com/JamendoLounge
            name: Alternative Nation Radio
        entities:
          - media_player.kitchen
          - media_player.soundbar
  ########## Stack 4 ######################################################################
  - type: vertical-stack
    cards:
      # Extra explanation
      - type: markdown
        title: Google Assistant 4
        content: |
          **Ik wil koken** -> voor als je gaat koken.
          **Het is avond** -> voor gedimde lampen in de avond.
          **Ik wil morgen vroeg op** -> wakker worden met wekker.
          **Ik spreek je morgen weer** -> slapen gaan zonder wekker.
          **Goedemorgen** -> zodat HA weet dat je wakker bent.
          **Kanaal X graag** (IFTTT) -> om TV van kanaal te veranderen.
          **Zet TV aan/uit** -> om de tv aan of uit te doen.
          **Ik pak me fiets en ga** -> om het huis af te sluiten.
  - type: statistics-graph
    title: 'My Graph'
    days_to_show: 1
    entities:
      - sensor.ble_temperature_livingroom
      - sensor.temperature_158d0002437932
      - sensor.beok_temperature
      - sensor.ble_temperature_e72e00d074d4
